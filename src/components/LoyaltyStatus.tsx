import gemPng from '../assets/loyalty-gem.png'
import './LoyaltyStatus.css'

// SVG paths exported directly from Figma Make (svg-e4q0o1c8mu.ts)
const svgPaths = {
  // Ring arc shape (full circle minus small gap at top)
  ringArc:
    'M20 0C16.0444 -4.71704e-08 12.1776 1.17298 8.8886 3.37061C5.59962 5.56824 3.03617 8.69181 1.52242 12.3463C0.00866571 16.0009 -0.387401 20.0222 0.384303 23.9018C1.15601 27.7814 3.06082 31.3451 5.85787 34.1421C8.65492 36.9392 12.2186 38.844 16.0982 39.6157C19.9778 40.3874 23.9992 39.9913 27.6537 38.4776C31.3082 36.9638 34.4318 34.4004 36.6294 31.1114C38.827 27.8224 40 23.9556 40 20H38C38 23.5601 36.9443 27.0402 34.9665 30.0003C32.9886 32.9603 30.1774 35.2675 26.8883 36.6298C23.5992 37.9922 19.98 38.3487 16.4884 37.6541C12.9967 36.9596 9.78943 35.2453 7.27209 32.7279C4.75474 30.2106 3.04041 27.0033 2.34587 23.5116C1.65134 20.02 2.0078 16.4008 3.37018 13.1117C4.73255 9.82263 7.03966 7.01141 9.99974 5.03355C12.9598 3.05568 16.4399 2 20 2L20 0Z',
  // Ring stroke outline
  ringStroke:
    'M20 0L21 1.19249e-08V-1H20V0ZM1.52242 12.3463L2.4463 12.729L1.52242 12.3463ZM5.85787 34.1421L5.15077 34.8492L5.85787 34.1421ZM16.0982 39.6157L16.2933 38.6349L16.0982 39.6157ZM36.6294 31.1114L35.7979 30.5558L36.6294 31.1114ZM40 20H41V19H40V20ZM38 20V19H37V20H38ZM34.9665 30.0003L35.7979 30.5558L34.9665 30.0003ZM26.8883 36.6298L26.5056 35.706L26.8883 36.6298ZM16.4884 37.6541L16.2933 38.6349L16.4884 37.6541ZM7.27209 32.7279L7.97919 32.0208L7.27209 32.7279ZM9.99974 5.03355L10.5553 5.86502L9.99974 5.03355ZM20 2V3H21V2H20ZM20 0V-1C15.8466 -1 11.7865 0.231628 8.33303 2.53914L8.8886 3.37061L9.44418 4.20208C12.5687 2.11433 16.2422 1 20 1V0ZM8.8886 3.37061L8.33303 2.53914C4.8796 4.84665 2.18798 8.1264 0.598539 11.9636L1.52242 12.3463L2.4463 12.729C3.88436 9.25722 6.31964 6.28982 9.44418 4.20208L8.8886 3.37061ZM1.52242 12.3463L0.598539 11.9636C-0.990901 15.8009 -1.40677 20.0233 -0.596482 24.0969L0.384303 23.9018L1.36509 23.7067C0.631969 20.0211 1.00823 16.2008 2.4463 12.729L1.52242 12.3463ZM0.384303 23.9018L-0.596482 24.0969C0.213808 28.1705 2.21386 31.9123 5.15077 34.8492L5.85787 34.1421L6.56498 33.435C3.90778 30.7778 2.09821 27.3924 1.36509 23.7067L0.384303 23.9018ZM5.85787 34.1421L5.15077 34.8492C8.08767 37.7861 11.8295 39.7862 15.9031 40.5965L16.0982 39.6157L16.2933 38.6349C12.6077 37.9018 9.22218 36.0922 6.56498 33.435L5.85787 34.1421ZM16.0982 39.6157L15.9031 40.5965C19.9767 41.4068 24.1991 40.9909 28.0364 39.4015L27.6537 38.4776L27.271 37.5537C23.7992 38.9918 19.9789 39.368 16.2933 38.6349L16.0982 39.6157ZM27.6537 38.4776L28.0364 39.4015C31.8736 37.812 35.1534 35.1204 37.4609 31.667L36.6294 31.1114L35.7979 30.5558C33.7102 33.6804 30.7428 36.1156 27.271 37.5537L27.6537 38.4776ZM36.6294 31.1114L37.4609 31.667C39.7684 28.2135 41 24.1534 41 20H40H39C39 23.7578 37.8857 27.4313 35.7979 30.5558L36.6294 31.1114ZM40 20V19H38V20V21H40V20ZM38 20H37C37 23.3623 36.003 26.6491 34.135 29.4447L34.9665 30.0003L35.7979 30.5558C37.8857 27.4313 39 23.7578 39 20H38ZM34.9665 30.0003L34.135 29.4447C32.267 32.2403 29.612 34.4193 26.5056 35.706L26.8883 36.6298L27.271 37.5537C30.7428 36.1156 33.7102 33.6804 35.7979 30.5558L34.9665 30.0003ZM26.8883 36.6298L26.5056 35.706C23.3993 36.9926 19.9812 37.3293 16.6835 36.6734L16.4884 37.6541L16.2933 38.6349C19.9789 39.368 23.7992 38.9918 27.271 37.5537L26.8883 36.6298ZM16.4884 37.6541L16.6835 36.6734C13.3858 36.0174 10.3567 34.3983 7.97919 32.0208L7.27209 32.7279L6.56498 33.435C9.22218 36.0922 12.6077 37.9018 16.2933 38.6349L16.4884 37.6541ZM7.27209 32.7279L7.97919 32.0208C5.6017 29.6433 3.98261 26.6142 3.32666 23.3165L2.34587 23.5116L1.36509 23.7067C2.09821 27.3924 3.90778 30.7778 6.56498 33.435L7.27209 32.7279ZM2.34587 23.5116L3.32666 23.3165C2.67071 20.0189 3.00737 16.6007 4.29406 13.4944L3.37018 13.1117L2.4463 12.729C1.00823 16.2008 0.631969 20.0211 1.36509 23.7067L2.34587 23.5116ZM3.37018 13.1117L4.29406 13.4944C5.58075 10.388 7.75968 7.733 10.5553 5.86502L9.99974 5.03355L9.44418 4.20208C6.31964 6.28982 3.88436 9.25722 2.4463 12.729L3.37018 13.1117ZM9.99974 5.03355L10.5553 5.86502C13.351 3.99703 16.6377 3 20 3V2V1C16.2422 1 12.5687 2.11433 9.44418 4.20208L9.99974 5.03355ZM20 2H21V1.19249e-08L20 0L19 -1.19249e-08V2H20Z',
  // Badge mask shape
  badgeMask:
    'M11.418 0C15.6607 0 19.5944 1.3219 22.8311 3.5752L20.4512 6.97168L2.37012 7L0 3.57812C3.23758 1.32285 7.17318 0 11.418 0Z',
}

interface LoyaltyStatusProps {
  progress?: number
}

export default function LoyaltyStatus({ progress = 75 }: LoyaltyStatusProps) {
  return (
    <div className="status" data-name="Status">
      {/* Background circle */}
      <div className="status__bg" />

      {/* Gem icon */}
      <div className="status__gems">
        <img className="status__gems-img" src={gemPng} alt="" />
      </div>

      {/* Trailing ring (dark purple border) */}
      <div className="status__trailing" />

      {/* Progress ring */}
      <div className="status__progress">
        <svg
          className="status__progress-svg"
          fill="none"
          preserveAspectRatio="none"
          viewBox="0 0 40 40"
        >
          <defs>
            <mask fill="white" id="status-ring-mask">
              <path d={svgPaths.ringArc} />
            </mask>
            <clipPath id="status-ring-clip">
              <path d={svgPaths.ringStroke} mask="url(#status-ring-mask)" />
            </clipPath>
          </defs>
          <path
            d={svgPaths.ringStroke}
            fill="url(#statusGrad)"
            mask="url(#status-ring-mask)"
          />
          <defs>
            <linearGradient id="statusGrad" x1="0" y1="40" x2="40" y2="0">
              <stop offset="0%" stopColor="#7d18ba" />
              <stop offset="100%" stopColor="#f799ff" />
            </linearGradient>
          </defs>
        </svg>
      </div>

      {/* Badge on top */}
      <div className="status__badge">
        <div className="status__badge-mask">
          <svg
            className="status__badge-mask-svg"
            fill="none"
            preserveAspectRatio="none"
            viewBox="0 0 22.8311 7"
          >
            <path d={svgPaths.badgeMask} fill="#121212" />
          </svg>
        </div>
        <p className="status__badge-text">{progress}%</p>
      </div>
    </div>
  )
}
